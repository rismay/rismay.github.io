{"primaryContentSections":[{"kind":"content","content":[{"anchor":"overview","type":"heading","text":"Overview","level":2},{"inlineContent":[{"type":"image","identifier":"doc-2014-09-29-wsmlogger-multithreaded-debugging-hero"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"blog-2014-09-29-wsmlogger-multithreaded-debugging-hero"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A logging approach that improves multithreaded debugging beyond NSLog."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The most effective debugging tool is still careful thought, coupled with judiciously placed print statements."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"— Brian W. Kernighan"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"When I first started coding Objective-C, I relied on NSLog to understand how to code was flowing. I would print out statements like this:"}]},{"type":"paragraph","inlineContent":[{"text":"NSLog(@“WSPL:overlaysWithWSActivity:MID01 count: withActivity: Looping through activity of size %i”, newActivity.coordinates.count);","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Looking back this is obviously not the way to go about things. “WSPL” was a way for me to get which file was logging this command. I then manually printed out the method (“overlaysWithWSActivity:count:withActivity”). The “MID01” token was a way of identifying what line I was actually at. Finally, I put in the actual bit of information that I wanted “Looping through moments.”","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"Luckily, I stumbled upon CocoaLumberjack. The library comes with several built in loggers which you can customize to your liking, but did not quite give me the level of detail that I needed. The shortcomings came particularly apparent while working on multi-threaded code. Although, I was getting the info I needed I did not know from what thread or queue the work was being performed.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"My solution to all of these problems came in the form of WSMLogger. Now I get log statements that I code like this:"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"NSLog(@“Nice”);"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"But output that looks like this:"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"01:03.147-main[AppDelegate |-[AppDelegate application:didFinishLaunc] Nice!"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Why is this better? When dealing with multi-threaded code, milliseconds matter. So I opted for just minutes, seconds and nanoseconds as the timestamp. The thread, the file name, the object, and method are then automatically printed. And finally, I can control the individual length of characters each component gets per log statement. So how do you use this awesome logging."}]},{"type":"paragraph","inlineContent":[{"text":"You should, learn how to use cocoa pods. Add “pod ‘WSMLogger’” to your Podfile. For ease of use, add <WSMLogger\/WSMLogger.h> to your .pch file.","type":"text"},{"text":" ","type":"text"},{"text":"From now on, all NSLog statements will be replaced with a C Macro that will call on DDLog. Add to your AppDelegate file a class load method with the settings for that you want for the WSMLogger.","type":"text"},{"text":" ","type":"text"},{"text":"For example, I use:","type":"text"}]},{"code":["#pragma mark - Custom Logging at Startup","","+ (void)load {","","WSMLogger *logger = WSMLogger.sharedInstance;","","[DDLog addLogger:logger];","","\/\/ Customize the WSLogger","","logger.formatStyle = kWSMLogFormatStyleQueue;","","logger[kWSMLogFormatKeyFile] = @16;","","logger[kWSMLogFormatKeyFunction] = @40;","","}"],"type":"codeListing","syntax":"objc"},{"type":"paragraph","inlineContent":[{"text":"What does that text snippet do? Firstly, it creates the WSMLogger, and registers it with CocoaLumberjack. Second, it sets the style to use (I have created different styles in WSMLogger). Finally, it sets the number of characters to use for the File and Method name.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"That’s it! All your pre-existing NSLog statements will automatically output with the new format you have customized."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"metadata":{"images":[{"type":"icon","identifier":"blog-2014-09-29-wsmlogger-multithreaded-debugging-icon.svg"},{"type":"card","identifier":"blog-2014-09-29-wsmlogger-multithreaded-debugging-card.svg"}],"role":"article","roleHeading":"Article","title":"WSMLogger","color":{"standardColorIdentifier":"blue"}},"kind":"article","hierarchy":{"paths":[["doc:\/\/rismay-me\/documentation\/rismay-me","doc:\/\/rismay-me\/documentation\/rismay-me\/blog"]]},"seeAlsoSections":[{"anchor":"Posts","identifiers":["doc:\/\/rismay-me\/documentation\/rismay-me\/2023-10-30-swift-type-inference-performance","doc:\/\/rismay-me\/documentation\/rismay-me\/2023-10-30-swift-struct-packing-memory","doc:\/\/rismay-me\/documentation\/rismay-me\/2020-06-01-getting-rismay-me-working","doc:\/\/rismay-me\/documentation\/rismay-me\/2020-05-28-whoa","doc:\/\/rismay-me\/documentation\/rismay-me\/2020-05-26-it-begins","doc:\/\/rismay-me\/documentation\/rismay-me\/2020-05-24-daily-entry","doc:\/\/rismay-me\/documentation\/rismay-me\/2013-11-08-13-inch-2013-vs-15-inch-2012-rmbp","doc:\/\/rismay-me\/documentation\/rismay-me\/2013-09-04-coding-as-art","doc:\/\/rismay-me\/documentation\/rismay-me\/2013-08-07-core-location-evolution","doc:\/\/rismay-me\/documentation\/rismay-me\/2013-05-31-minimizing-friction"],"generated":true,"title":"Posts"}],"sections":[],"identifier":{"url":"doc:\/\/rismay-me\/documentation\/rismay-me\/2014-09-29-wsmlogger-multithreaded-debugging","interfaceLanguage":"swift"},"references":{"doc://rismay-me/documentation/rismay-me/2020-05-26-it-begins":{"title":"It Begins","url":"\/documentation\/rismay-me\/2020-05-26-it-begins","role":"article","type":"topic","abstract":[],"kind":"article","images":[{"type":"icon","identifier":"blog-2020-05-26-it-begins-icon.svg"},{"type":"card","identifier":"blog-2020-05-26-it-begins-card.svg"}],"identifier":"doc:\/\/rismay-me\/documentation\/rismay-me\/2020-05-26-it-begins"},"doc://rismay-me/documentation/rismay-me/2023-10-30-swift-type-inference-performance":{"title":"Swift Type Inference","url":"\/documentation\/rismay-me\/2023-10-30-swift-type-inference-performance","role":"article","type":"topic","abstract":[],"kind":"article","images":[{"type":"icon","identifier":"blog-2023-10-30-swift-type-inference-performance-icon.svg"},{"type":"card","identifier":"blog-2023-10-30-swift-type-inference-performance-card.svg"}],"identifier":"doc:\/\/rismay-me\/documentation\/rismay-me\/2023-10-30-swift-type-inference-performance"},"blog-2023-10-30-swift-struct-packing-memory-card.svg":{"identifier":"blog-2023-10-30-swift-struct-packing-memory-card.svg","type":"image","variants":[{"url":"\/images\/rismay-me\/blog-2023-10-30-swift-struct-packing-memory-card.svg","traits":["1x","light"]}],"alt":"Swift Struct Packing card"},"blog-2020-05-26-it-begins-icon.svg":{"identifier":"blog-2020-05-26-it-begins-icon.svg","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/rismay-me\/blog-2020-05-26-it-begins-icon.svg"}],"alt":"It Begins icon"},"doc://rismay-me/documentation/rismay-me/2013-08-07-core-location-evolution":{"abstract":[],"title":"Core Location","kind":"article","url":"\/documentation\/rismay-me\/2013-08-07-core-location-evolution","images":[{"type":"icon","identifier":"blog-2013-08-07-core-location-evolution-icon.svg"},{"type":"card","identifier":"blog-2013-08-07-core-location-evolution-card.svg"}],"type":"topic","role":"article","identifier":"doc:\/\/rismay-me\/documentation\/rismay-me\/2013-08-07-core-location-evolution"},"doc://rismay-me/documentation/rismay-me/2020-05-28-whoa":{"title":"Whoa","url":"\/documentation\/rismay-me\/2020-05-28-whoa","role":"article","abstract":[],"type":"topic","kind":"article","images":[{"type":"icon","identifier":"blog-2020-05-28-whoa-icon.svg"},{"type":"card","identifier":"blog-2020-05-28-whoa-card.svg"}],"identifier":"doc:\/\/rismay-me\/documentation\/rismay-me\/2020-05-28-whoa"},"blog-2013-08-07-core-location-evolution-icon.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2013-08-07-core-location-evolution-icon.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2013-08-07-core-location-evolution-icon.svg","alt":"Core Location icon"},"rismay-me-icon.svg":{"identifier":"rismay-me-icon.svg","type":"image","alt":"Rismay Icon","variants":[{"url":"\/images\/rismay-me\/rismay-me-icon.svg","traits":["1x","light"]}]},"blog-2020-05-24-daily-entry-icon.svg":{"alt":"Daily Entry icon","variants":[{"url":"\/images\/rismay-me\/blog-2020-05-24-daily-entry-icon.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2020-05-24-daily-entry-icon.svg"},"doc://rismay-me/documentation/rismay-me/2013-05-31-minimizing-friction":{"abstract":[],"title":"Minimizing Friction","kind":"article","url":"\/documentation\/rismay-me\/2013-05-31-minimizing-friction","images":[{"type":"icon","identifier":"blog-2013-05-31-minimizing-friction-icon.svg"},{"type":"card","identifier":"blog-2013-05-31-minimizing-friction-card.svg"}],"type":"topic","role":"article","identifier":"doc:\/\/rismay-me\/documentation\/rismay-me\/2013-05-31-minimizing-friction"},"blog-2020-05-28-whoa-icon.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2020-05-28-whoa-icon.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2020-05-28-whoa-icon.svg","alt":"Whoa icon"},"rismay-me-card.svg":{"alt":"Rismay Card","variants":[{"traits":["1x","light"],"url":"\/images\/rismay-me\/rismay-me-card.svg"}],"type":"image","identifier":"rismay-me-card.svg"},"blog-2013-11-08-13-inch-2013-vs-15-inch-2012-rmbp-card.svg":{"variants":[{"traits":["1x","light"],"url":"\/images\/rismay-me\/blog-2013-11-08-13-inch-2013-vs-15-inch-2012-rmbp-card.svg"}],"type":"image","identifier":"blog-2013-11-08-13-inch-2013-vs-15-inch-2012-rmbp-card.svg","alt":"13 vs 15 rMBP card"},"doc://rismay-me/documentation/rismay-me/2023-10-30-swift-struct-packing-memory":{"abstract":[],"title":"Swift Struct Packing","kind":"article","url":"\/documentation\/rismay-me\/2023-10-30-swift-struct-packing-memory","images":[{"type":"icon","identifier":"blog-2023-10-30-swift-struct-packing-memory-icon.svg"},{"type":"card","identifier":"blog-2023-10-30-swift-struct-packing-memory-card.svg"}],"type":"topic","role":"article","identifier":"doc:\/\/rismay-me\/documentation\/rismay-me\/2023-10-30-swift-struct-packing-memory"},"blog-2013-05-31-minimizing-friction-card.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2013-05-31-minimizing-friction-card.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2013-05-31-minimizing-friction-card.svg","alt":"Minimizing Friction card"},"blog-2020-06-01-getting-rismay-me-working-card.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2020-06-01-getting-rismay-me-working-card.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2020-06-01-getting-rismay-me-working-card.svg","alt":"Getting rismay.me Working card"},"blog-2013-08-07-core-location-evolution-card.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2013-08-07-core-location-evolution-card.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2013-08-07-core-location-evolution-card.svg","alt":"Core Location card"},"blog-2014-09-29-wsmlogger-multithreaded-debugging-icon.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2014-09-29-wsmlogger-multithreaded-debugging-icon.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2014-09-29-wsmlogger-multithreaded-debugging-icon.svg","alt":null},"blog-2023-10-30-swift-struct-packing-memory-icon.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2023-10-30-swift-struct-packing-memory-icon.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2023-10-30-swift-struct-packing-memory-icon.svg","alt":"Swift Struct Packing icon"},"doc-2014-09-29-wsmlogger-multithreaded-debugging-hero":{"variants":[{"url":"\/images\/rismay-me\/doc-2014-09-29-wsmlogger-multithreaded-debugging-hero.svg","traits":["1x","light"]}],"type":"image","identifier":"doc-2014-09-29-wsmlogger-multithreaded-debugging-hero","alt":"WSMLogger hero"},"doc://rismay-me/documentation/rismay-me/2013-11-08-13-inch-2013-vs-15-inch-2012-rmbp":{"abstract":[],"title":"13 Vs 15 rMBP","kind":"article","url":"\/documentation\/rismay-me\/2013-11-08-13-inch-2013-vs-15-inch-2012-rmbp","images":[{"type":"icon","identifier":"blog-2013-11-08-13-inch-2013-vs-15-inch-2012-rmbp-icon.svg"},{"type":"card","identifier":"blog-2013-11-08-13-inch-2013-vs-15-inch-2012-rmbp-card.svg"}],"type":"topic","role":"article","identifier":"doc:\/\/rismay-me\/documentation\/rismay-me\/2013-11-08-13-inch-2013-vs-15-inch-2012-rmbp"},"blog-blog-card.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-blog-card.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-blog-card.svg","alt":"Blog Card"},"blog-blog-icon.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-blog-icon.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-blog-icon.svg","alt":"Blog Icon"},"blog-2020-05-28-whoa-card.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2020-05-28-whoa-card.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2020-05-28-whoa-card.svg","alt":"Whoa card"},"doc://rismay-me/documentation/rismay-me":{"abstract":[{"type":"text","text":"An engineer and designer building developer experience, creative systems, and human-centered tools."}],"title":"Rismay","kind":"article","url":"\/documentation\/rismay-me","images":[{"identifier":"rismay-me-icon.svg","type":"icon"},{"identifier":"rismay-me-card.svg","type":"card"}],"type":"topic","role":"article","identifier":"doc:\/\/rismay-me\/documentation\/rismay-me"},"blog-2020-06-01-getting-rismay-me-working-icon.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2020-06-01-getting-rismay-me-working-icon.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2020-06-01-getting-rismay-me-working-icon.svg","alt":"Getting rismay.me Working icon"},"doc://rismay-me/documentation/rismay-me/2020-06-01-getting-rismay-me-working":{"title":"Getting rismay.me Working","url":"\/documentation\/rismay-me\/2020-06-01-getting-rismay-me-working","role":"article","type":"topic","abstract":[],"kind":"article","images":[{"type":"icon","identifier":"blog-2020-06-01-getting-rismay-me-working-icon.svg"},{"type":"card","identifier":"blog-2020-06-01-getting-rismay-me-working-card.svg"}],"identifier":"doc:\/\/rismay-me\/documentation\/rismay-me\/2020-06-01-getting-rismay-me-working"},"blog-2023-10-30-swift-type-inference-performance-card.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2023-10-30-swift-type-inference-performance-card.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2023-10-30-swift-type-inference-performance-card.svg","alt":"Swift Type Inference card"},"doc://rismay-me/documentation/rismay-me/2020-05-24-daily-entry":{"abstract":[],"title":"Daily Entry","kind":"article","url":"\/documentation\/rismay-me\/2020-05-24-daily-entry","images":[{"type":"icon","identifier":"blog-2020-05-24-daily-entry-icon.svg"},{"type":"card","identifier":"blog-2020-05-24-daily-entry-card.svg"}],"type":"topic","role":"article","identifier":"doc:\/\/rismay-me\/documentation\/rismay-me\/2020-05-24-daily-entry"},"blog-2020-05-26-it-begins-card.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2020-05-26-it-begins-card.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2020-05-26-it-begins-card.svg","alt":"It Begins card"},"blog-2023-10-30-swift-type-inference-performance-icon.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2023-10-30-swift-type-inference-performance-icon.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2023-10-30-swift-type-inference-performance-icon.svg","alt":"Swift Type Inference icon"},"blog-2014-09-29-wsmlogger-multithreaded-debugging-hero":{"variants":[{"url":"\/images\/rismay-me\/blog-2014-09-29-wsmlogger-multithreaded-debugging-hero.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2014-09-29-wsmlogger-multithreaded-debugging-hero","alt":"WSMLogger hero"},"doc://rismay-me/documentation/rismay-me/blog":{"identifier":"doc:\/\/rismay-me\/documentation\/rismay-me\/blog","title":"Blog","kind":"article","url":"\/documentation\/rismay-me\/blog","images":[{"type":"icon","identifier":"blog-blog-icon.svg"},{"type":"card","identifier":"blog-blog-card.svg"}],"type":"topic","role":"article","abstract":[]},"blog-2020-05-24-daily-entry-card.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2020-05-24-daily-entry-card.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2020-05-24-daily-entry-card.svg","alt":"Daily Entry card"},"blog-2013-11-08-13-inch-2013-vs-15-inch-2012-rmbp-icon.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2013-11-08-13-inch-2013-vs-15-inch-2012-rmbp-icon.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2013-11-08-13-inch-2013-vs-15-inch-2012-rmbp-icon.svg","alt":"13 vs 15 rMBP icon"},"blog-2013-05-31-minimizing-friction-icon.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2013-05-31-minimizing-friction-icon.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2013-05-31-minimizing-friction-icon.svg","alt":"Minimizing Friction icon"},"blog-2013-09-04-coding-as-art-icon.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2013-09-04-coding-as-art-icon.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2013-09-04-coding-as-art-icon.svg","alt":"Coding as Art icon"},"doc://rismay-me/documentation/rismay-me/2013-09-04-coding-as-art":{"title":"Coding as Art","url":"\/documentation\/rismay-me\/2013-09-04-coding-as-art","role":"article","type":"topic","abstract":[],"kind":"article","images":[{"type":"icon","identifier":"blog-2013-09-04-coding-as-art-icon.svg"},{"type":"card","identifier":"blog-2013-09-04-coding-as-art-card.svg"}],"identifier":"doc:\/\/rismay-me\/documentation\/rismay-me\/2013-09-04-coding-as-art"},"blog-2014-09-29-wsmlogger-multithreaded-debugging-card.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2014-09-29-wsmlogger-multithreaded-debugging-card.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2014-09-29-wsmlogger-multithreaded-debugging-card.svg","alt":null},"blog-2013-09-04-coding-as-art-card.svg":{"variants":[{"url":"\/images\/rismay-me\/blog-2013-09-04-coding-as-art-card.svg","traits":["1x","light"]}],"type":"image","identifier":"blog-2013-09-04-coding-as-art-card.svg","alt":"Coding as Art card"}}}